/*!
 * Authentic v2.0.0 (https://github.com/qooob/authentic-theme)
 * Copyright 2014 Ilia Rostovtsev <programming@rostovtsev.ru>
 * Licensed under MIT (https://github.com/qooob/authentic-theme/blob/master/LICENSE)
 */
;$(document).ready(function(){function a(){window.parent.$('iframe[name="page"]').css("display","none");window.parent.$(".loader-container").css("display","block")}window.parent.$('iframe[name="page"]').on("load",function(){window.parent.$(".loader-container").css("display","none");window.parent.$('iframe[name="page"]').css("display","block")});function c(){$(".navbar.navbar-default.navbar-fixed-top").show("slide",{direction:"right"},360);$("aside").show("slide",{direction:"left"},360)}a();c();$("#iframe").on("load",function(){if(d(false)){d(true)}});function d(f){if(!f){return window.parent.$('iframe[name="page"]').contents().find("title").text()=="ConfigServer Security & Firewall"}else{if(f){$("#iframe").contents().find("body").on("click",'input[type="submit"], a[href^="index.cgi?action=temp"]',function(){$('iframe[name="page"]').css("display","none");$(".loader-container").css("display","block")});$csf=window.parent.$('iframe[name="page"]').contents();$csf.find("head").append('				<link rel="shortcut icon" href="/favicon-webmin.ico">				<meta name="viewport" content="width=device-width, initial-scale=1.0">				<link href="/unauthenticated/css/bootstrap.min.css" rel="stylesheet" type="text/css">				<link href="/unauthenticated/css/fontawesome.min.css" rel="stylesheet" type="text/css">				<link href="/unauthenticated/css/codemirror.min.css" rel="stylesheet" type="text/css">				<link href="/unauthenticated/css/progress-circle.min.css" rel="stylesheet" type="text/css">				<link href="/unauthenticated/css/default.min.css" rel="stylesheet" type="text/css">			');$csf.find("style").remove();$csf.find("body").addClass("csf");$csf.find("body").wrapInner('<div class="container-fluid col-lg-9 col-lg-offset-1">');$csf.find(".container-fluid").wrapInner('<div class="panel panel-default">');$csf.find(".panel-default").wrapInner('<div class="panel-body">');$csf.find(".panel-default").css("margin-top","20px").prepend('<div class="panel-heading" style="text-align:center"><font size="+2">ConfigServer Security & Firewall</font></div>');$csf.find(".panel-body > img:first-child, .panel-body > b").remove();$csf.find("#CSFajax").css("border","1px solid #ddd");$csf.find("body table").each(function(){$(this).addClass("table table-striped table-condensed").removeAttr("style")});$csf.find("body table tr td, body table tr th").each(function(){$(this).removeAttr("style")});$csf.find(".csf table.table-striped.table-condensed th").each(function(){if($(this).html()=="Time To Live"){$(this).css("min-width","100px")}if($(this).html()=="&nbsp;"){$(this).css("min-width","70px")}});function g(){$csf.find("#CSFajax").css("max-height",$(window).outerHeight()-$(window).outerHeight()/2.4+"px")}$(window).resize(function(h){g()});g();$csf.find(".csf table.table-striped.table-condensed tbody > tr > td > p").each(function(){if($(this).text().indexOf("Your Score")>=0){$(this).next("p").remove();$(this).next("table").remove();$(this).next("table").remove();$(this).next("p").css("text-align","center")}});$csf.find(".csf td.section-gap:first-child").each(function(){$(this).parent("tr:first-child").remove();$(this).parent("tr:last-child").remove()});$csf.find(".csf td.section-title").each(function(){$(this).parent("tr").prev("tr").find("td.section-gap").parent("tr").remove();$(this).parent("tr").prev("tr").find("td.section-gap").parent("tr").remove()});$csf.find('.csf button[class="input"], .csf input[type="submit"]').each(function(){$(this).addClass("btn btn-default").removeClass("input")});$csf.find("body table tr th").each(function(){if(!$(this).parents("tbody").find("form").length&&$(this).text().indexOf("Upgrade")>=0){$(this).parents("table").prev("br").remove();$(this).parents("table").remove()}});$csf.find(".csf table tbody tr th p").each(function(){if($(this).text().indexOf("WARNING: RESTRICT_SYSLOG")>=0){}});$csf.find(".csf pre").each(function(){if($(this).text().indexOf("csf: v")>=0){$csf_version=$(this).text().match(/((?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+))$/)[0];$(this).remove()}});$csf.find(".csf .panel-heading font").each(function(){if($(this).text().indexOf("ConfigServer Security & Firewall")>=0){$(this).html('<font size="+2">Firewall</font><span style="font-size:14px;display:block">ConfigServer Security & Firewall version '+$csf_version+"</span>")}});$csf.find(".csf p:last-child").each(function(){if($(this).text().indexOf("Â©2006")>=0){$(this).css("font-size","12px").css("margin-top","12px")}});$csf.find('img[src="csfimages/loader.gif"]').each(function(){$(this).attr("src","/images/loader-horizontal.gif").css("margin-left","10px")});$csf.find(".paginationstyle a").each(function(){$(this).addClass("btn btn-default")});$csf.find('img[src^="lfd_"], img[src^="/csf/lfd_"]').each(function(){$(this).parents("table").removeClass("table-striped")});$csf.find(".csf fieldset legend b").each(function(){if($(this).text().indexOf("Edit ConfigServer Firewall")>=0){$submit_changes=$csf.find('input[value="Change"]');$submit_changes.addClass("csf-submit_changes");$submit_changes.on("click",function(){$csf.find('input[value="saveconf"]').parent("form").submit()})}});$csf.find("textarea").each(function(h,l){var k=$(this);if($(this).attr("name")=="formdata"){$parent_width=k.parent("td").width();var j=CodeMirror.fromTextArea(l,{mode:{name:$(this).data("mode")?$(this).data("mode"):"rpm-spec"},tabMode:"indent",matchBrackets:true,lineNumbers:true,lineWrapping:true,indentUnit:4});$window_height=($(window).outerHeight()-($(window).outerHeight()/2));j.setSize($parent_width,$window_height);$(window).resize(function(){$parent_width=k.parent("td").width();$window_height=($(window).outerHeight()-($(window).outerHeight()/2));j.setSize($parent_width,$window_height)})}})}}}$(".navigation > li").on("click",function(i){i.preventDefault();i.stopPropagation();typeof $processing=="undefined"?$processing=false:false;if(!$processing){$processing=true;var f=$("a",this).attr("href"),h=$("a",this).attr("target"),g=$(this);if(h){$(".navigation > ul.sub > li").each(function(){$(this).removeClass("sub_active")})}$("#webmin_search_form").submit(function(){$(".navigation > ul.sub > li").each(function(){$(this).removeClass("sub_active")})});$.when($("#sidebar .navigation > li").each(function(){var j=$(this);if(!$(this).is(g)){$(this).removeClass("active");if($(this).find("a").attr("href")!="#search"&&!$(this).find("a").attr("target")){if($(j.find("a").attr("href")).hasClass("sub")){$(j.find("a").attr("href")).slideUp(600)}}}})).done(function(){g.hasClass("active")?g.removeClass("active"):(f!="#hide"&&!h)?g.addClass("active"):false;setTimeout(function(){if($(f).is(":visible")&&f!="#hide"&&!h){g.addClass("active")}else{g.removeClass("active")}$processing=false},660);$(f).slideToggle(600)});if(f=="#search"){$('#sidebar input[name="search"]').focus()}}});$(".navigation > ul.sub > li").on("click",function(){var f=$(this);$(".navigation > ul.sub > li").each(function(){$(this).removeClass("sub_active")});$("#webmin_search_form").find('input[name="search"]').val("");f.addClass("sub_active")});$('aside .navigation a[target="page"], .list-group-item, .menu-link, .panel-body > a.ui_link').on("click",function(){a()});function b(){if(window.parent.$("#sidebar:visible").length==1){if($(window).width()<1200){window.parent.$('iframe[name="page"]').contents().find(".container-fluid").css("margin-left","20px")}else{window.parent.$('iframe[name="page"]').contents().find(".container-fluid").removeAttr("style")}}else{$(".container-fluid").css("margin-left",0)}}$(window).resize(function(f){b()});$("input[type=file]").bootstrapFileInput();$("#tall_0").before("<br>");function e(){$(".opener_container").each(function(f,g){if($(this).find("div").hasClass("opener_hidden")){$(this).hide()}else{$(this).show()}})}e();$(".opener_trigger").on("click",function(){$this=$(this);if($this.closest("tbody").find(".opener_container").first().find("div").hasClass("opener_hidden")){$this.closest("tbody").find(".opener_container").show();setTimeout(function(){$this.parent("td").find(".opener_trigger img").attr("src","/images/open.gif")},10)}else{$this.closest("tbody").find(".opener_container").hide();setTimeout(function(){$this.parent("td").find(".opener_trigger img").attr("src","/images/closed.gif")},10)}});if($(".opener_shown").length>0){$(".panel-body  .ui_form .table  tbody  tr").removeClass("thead");$(".opener_trigger").parent("td").css("vertical-align","middle").css("height","43px")}$(".navigation_sysinfo_modules_trigger, .navigation_refresh_modules_trigger, .navigation_feedback_trigger").on("click",function(f){f.preventDefault();f.stopPropagation();$('iframe[name="page"]').attr("src",$(this).data("href"));$(".navbar-toggle").trigger("click")});$(".navbar-brand").on("click",function(f){$(".navbar-collapse").removeClass("in")});$product_name=window.parent.$("#wrapper").data("product");$("body table").each(function(g,f){var h=$(this);if(!$(f).hasClass("table")&&!$(f).hasClass("header")&&!$(f).hasClass("ui_form_end_buttons")&&!$(f).hasClass("ui_table")){$(f).addClass("table-hardcoded");if($product_name=="usermin"){$(f).addClass("table table-striped table-rounded table-condensed table-subtable")}}});$(window).load(function(){$current_page=window.parent.$('iframe[name="page"]').get(0).contentWindow.location.pathname.replace(/^\//g,"");if($("#headln2l a").attr("href")){if($("#headln2l a").attr("href").indexOf(".cgi")>=0){$current_page_webmin=1}else{$current_page_webmin=0}}else{$current_page_webmin=0}$("a").each(function(){if($(this).find("img").length){$(this).css("text-decoration","none")}});$("a.opener_trigger").each(function(){$(this).parent("td").css("text-align","left")});($current_page.split("/")[0]=="virtual-server"&&!$current_page_webmin&&window.parent.$("#wrapper").data("virtual-server")!=-1)?$current_page=$current_page.split("/")[0]+"/"+$current_page.split("/")[1]:$current_page=$current_page.split("/")[0]+"/";var f=[];window.parent.$("ul.sub li a").each(function(){if(window.parent.$("#wrapper").data("virtual-server")==-1&&$(this).attr("href").split("/")[0]=="virtual-server"){f.push($(this).attr("href"))}else{f.push($(this).attr("href"))}});if(($current_page&&$current_page!="virtual-server/index.cgi"&&f.indexOf($current_page)>-1)||window.parent.$("#wrapper").data("virtual-server")!=-1&&$current_page=="virtual-server/"){window.parent.$(".navigation > ul.sub > li").removeClass("sub_active");window.parent.$("#sidebar .navigation > ul.sub").hide();window.parent.$("#sidebar .navigation > li").removeClass("active");window.parent.$('a[href="'+$current_page+'"]').parent("li").addClass("sub_active").parent("ul.sub").show().prev("li").addClass("active")}$('.panel-body > form > table > tbody > tr > td:has(input[type="submit"])').parents("table.table-hardcoded > tbody > tr").css("border","none").parents("table").css("margin-top","20px");$('.panel-body > form > table > tbody > tr > td:has(input[type="submit"])').parents("table.table-hardcoded > tbody").css("border","none");$('.ui_grid_table > tbody > tr.ui_grid_row > td:has(button[type="submit"])').parents("table.ui_grid_table").css("border","none");$("form.ui_form > table label.radio, form.ui_form > table label.checkbox").each(function(){var i=$(this),j=i.find("i.fa"),h=i.find("i.fa").text().trim(),g=i.text().trim();if(h.length===0&&g.length===0){j.parent("label").remove()}});$('.ui_form[action^="delete_mons"] tr.ui_checked_columns > td > label > img[src="images/up.gif"], .ui_form[action^="save_mon"] img[src="images/up.gif"], table.ui_buttons_table > tbody > tr.ui_buttons_row > td.ui_buttons_label > img[src="images/up.gif"]').each(function(h,g){var i=$(this);$(g).attr("src","/images/check.png")});$('.ui_form[action^="delete_mons"] tr.ui_checked_columns > td > label > img[src="images/down.gif"], .ui_form[action^="save_mon"] img[src="images/down.gif"], table.ui_buttons_table > tbody > tr.ui_buttons_row > td.ui_buttons_label > img[src="images/down.gif"]').each(function(h,g){var i=$(this);$(g).attr("src","/images/cross.png")});$("img[src^=images]").each(function(h,g){var i=$(this);$(g).attr("src","/"+i.attr("src"))});$("textarea").each(function(l,o){var n=$(this),k=["phpini","bind8"],j=["phpini"],g=["bind8"];$("#headln2l a").attr("href")?$page=$("#headln2l a").attr("href").split("/")[1]:$page=null;if(k.indexOf($page)>=0){$(this).attr("name","data");if(j.indexOf($page)>=0){$(this).data("mode","text/x-z80")}else{if(g.indexOf($page)>=0){$(this).data("mode","xml")}else{$(this).data("mode","rpm-spec")}}}$current_file=window.parent.$('iframe[name="page"]').get(0).contentWindow.location.pathname.replace(/^\//g,"");if($current_file){$current_file=$current_file.split("/")[1]}var h=["edit_recs.cgi","edit_dirs.cgi"];if(($(this).attr("name")=="data"||$(this).attr("name")=="directives")&&$("textarea").length===1&&$("textarea").parent("td.td_tag").length===0&&$current_page!="init/"&&h.indexOf($current_file)===-1){$parent_width=n.parent("td").width();var m=CodeMirror.fromTextArea(o,{mode:{name:$(this).data("mode")?$(this).data("mode"):"rpm-spec"},tabMode:"indent",matchBrackets:true,lineNumbers:true,lineWrapping:true,indentUnit:4});$window_height=($(window).outerHeight()-($(window).outerHeight()/2.8));m.setSize($parent_width,$window_height);$(window).resize(function(){$parent_width=n.parent("td").width();$window_height=($(window).outerHeight()-($(window).outerHeight()/2.8));m.setSize($parent_width,$window_height)})}});if($(".ui_table tr td").has(".ui_grid_table.table-hardcoded")&&($current_page=="passwd/"||$current_page=="mailboxes/")){$(".ui_table tr td .ui_grid_table.table-hardcoded").addClass("table").parents("tr").css("border","1px solid #ddd")}if($current_page=="fetchmail/"&&$("link").attr("href")=="/favicon-usermin.ico"){$("a.ui_link").each(function(){if($(this).get(0).nextSibling.nodeValue&&$(this).get(0).nextSibling.nodeValue.indexOf("|")){$(this).get(0).nextSibling.nodeValue=" "}})}if($current_page=="proc/"){$("a.ui_link + b").addClass("btn btn-success").css("margin-top","4px").css("margin-left","3px");$("b + a.ui_link").addClass("btn btn-success").css("margin-top","4px").css("margin-left","3px");if($('.panel-body > b:first-child:contains("Display")').length>0){$(".panel-body > b:first-child").remove()}if($(".panel-body").find("b:first-child").text()=="PID"){$(".panel-body").find("b:first-child").addClass("btn btn-success").css("margin-top","4px")}$(".panel-body").contents().filter(function(){return this.nodeType==3}).remove();$(".panel-body > a.ui_link").css("margin-left","3px")}$("td.td_tag").contents().filter(function(){return this.nodeType==3}).next("input").css("margin-left","3px")});$("aside").mCustomScrollbar({axis:"y",theme:"minimal"})});