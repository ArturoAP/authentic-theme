/*!
 * Authentic Theme 3.0.0 (https://github.com/qooob/authentic-theme)
 * Copyright 2014 Ilia Rostovtsev <programming@rostovtsev.ru>
 * Licensed under MIT (https://github.com/qooob/authentic-theme/blob/master/LICENSE)
 */
;$(document).ready(function(){function c(){if($(location).attr("href").indexOf("/chooser.cgi")==-1&&$(location).attr("href").indexOf("user_chooser.cgi")==-1&&$(location).attr("href").indexOf("group_chooser.cgi")==-1){return true}else{return false}}function a(){if(c()){window.parent.$('iframe[name="page"]').css("display","none");window.parent.$(".loader-container").css("display","block")}}if(c()){window.parent.$('iframe[name="page"]').on("load",function(){window.parent.$(".loader-container").css("display","none");window.parent.$('iframe[name="page"]').css("display","block")})}function b(){$(".navbar.navbar-default.navbar-fixed-top").show("slide",{direction:"right"},360);$("aside").show("slide",{direction:"left"},360)}a();b();$("#iframe").on("load",function(){if(e(false)){e(true)}});function e(f){if(!f){return window.parent.$('iframe[name="page"]').contents().find("title").text()=="ConfigServer Security & Firewall"}else{if(f){$("#iframe").contents().find("body").on("click",'input[type="submit"], a[href^="index.cgi?action=temp"]',function(){$('iframe[name="page"]').css("display","none");$(".loader-container").css("display","block")});$csf=window.parent.$('iframe[name="page"]').contents();$csf.find("head").append('				<link rel="shortcut icon" href="/favicon-webmin.ico">				<meta name="viewport" content="width=device-width, initial-scale=1.0">				<link href="/unauthenticated/css/bootstrap.min.css" rel="stylesheet" type="text/css">				<link href="/unauthenticated/css/fontawesome.min.css" rel="stylesheet" type="text/css">				<link href="/unauthenticated/css/codemirror.min.css" rel="stylesheet" type="text/css">				<link href="/unauthenticated/css/default.min.css" rel="stylesheet" type="text/css">			');$csf.find("style").remove();$csf.find("body").addClass("csf");$csf.find("body").wrapInner('<div class="container-fluid col-lg-9 col-lg-offset-1">');$csf.find(".container-fluid").wrapInner('<div class="panel panel-default">');$csf.find(".panel-default").wrapInner('<div class="panel-body">');$csf.find(".panel-default").css("margin-top","20px").prepend('<div class="panel-heading" style="text-align:center"><font size="+2">ConfigServer Security & Firewall</font></div>');$csf.find(".panel-body > img:first-child, .panel-body > b").remove();$csf.find("#CSFajax").css("border","1px solid #ddd");$csf.find("body table").each(function(){$(this).addClass("table table-striped table-condensed").removeAttr("style")});$csf.find("body table tr td, body table tr th").each(function(){$(this).removeAttr("style")});$csf.find(".csf table.table-striped.table-condensed th").each(function(){if($(this).html()=="Time To Live"){$(this).css("min-width","100px")}if($(this).html()=="&nbsp;"){$(this).css("min-width","70px")}});function g(){$csf.find("#CSFajax").css("max-height",$(window).outerHeight()-$(window).outerHeight()/2.4+"px")}$(window).resize(function(h){g()});g();$csf.find(".csf table.table-striped.table-condensed tbody > tr > td > p").each(function(){if($(this).text().indexOf("Your Score")>=0){$(this).next("p").remove();$(this).next("table").remove();$(this).next("table").remove();$(this).next("p").css("text-align","center")}});$csf.find(".csf td.section-gap:first-child").each(function(){$(this).parent("tr:first-child").remove();$(this).parent("tr:last-child").remove()});$csf.find(".csf td.section-title").each(function(){$(this).parent("tr").prev("tr").find("td.section-gap").parent("tr").remove();$(this).parent("tr").prev("tr").find("td.section-gap").parent("tr").remove()});$csf.find('.csf button[class="input"], .csf input[type="submit"]').each(function(){$(this).addClass("btn btn-default").removeClass("input")});$csf.find("body table tr th").each(function(){if(!$(this).parents("tbody").find("form").length&&$(this).text().indexOf("Upgrade")>=0){$(this).parents("table").prev("br").remove();$(this).parents("table").remove()}});$csf.find(".csf pre").each(function(){if($(this).text().indexOf("csf: v")>=0){$csf_version=$(this).text().match(/((?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+))$/)[0];$(this).remove()}});$csf.find(".csf .panel-heading font").each(function(){if($(this).text().indexOf("ConfigServer Security & Firewall")>=0){$(this).html('<font size="+2">Firewall</font><span style="font-size:14px;display:block">ConfigServer Security & Firewall version '+$csf_version+"</span>")}});$csf.find(".csf p:last-child").each(function(){if($(this).text().indexOf("Â©2006")>=0){$(this).css("font-size","12px").css("margin-top","12px")}});$csf.find('img[src="csfimages/loader.gif"]').each(function(){$(this).attr("src","/images/loader-horizontal.gif").css("margin-left","10px")});$csf.find(".paginationstyle a").each(function(){$(this).addClass("btn btn-default")});$csf.find('img[src^="lfd_"], img[src^="/csf/lfd_"]').each(function(){$(this).parents("table").removeClass("table-striped")});$csf.find(".csf fieldset legend b").each(function(){if($(this).text().indexOf("Edit ConfigServer Firewall")>=0){$submit_changes=$csf.find('input[value="Change"]');$submit_changes.addClass("csf-submit_changes");$submit_changes.on("click",function(){$csf.find('input[value="saveconf"]').parent("form").submit()})}});$csf.find("textarea").each(function(h,l){var k=$(this);if($(this).attr("name")=="formdata"){$parent_width=k.parent("td").width();var j=CodeMirror.fromTextArea(l,{mode:{name:$(this).data("mode")?$(this).data("mode"):"rpm-spec"},tabMode:"indent",matchBrackets:true,lineNumbers:true,lineWrapping:true,indentUnit:4});$window_height=($(window).outerHeight()-($(window).outerHeight()/2));j.setSize($parent_width,$window_height);$(window).resize(function(){$parent_width=k.parent("td").width();$window_height=($(window).outerHeight()-($(window).outerHeight()/2));j.setSize($parent_width,$window_height)})}})}}}$(".navigation > li").on("click",function(i){i.preventDefault();i.stopPropagation();typeof $processing=="undefined"?$processing=false:false;if(!$processing){$processing=true;var f=$("a",this).attr("href"),h=$("a",this).attr("target"),g=$(this);if(h){$(".navigation > ul.sub > li").each(function(){$(this).removeClass("sub_active")})}$("#webmin_search_form").submit(function(){$(".navigation > ul.sub > li").each(function(){$(this).removeClass("sub_active")})});$.when($("#sidebar .navigation > li").each(function(){var j=$(this);if(!$(this).is(g)){$(this).removeClass("active");if($(this).find("a").attr("href")!="#search"&&!$(this).find("a").attr("target")){if($(j.find("a").attr("href")).hasClass("sub")){$(j.find("a").attr("href")).slideUp(600)}}}})).done(function(){g.hasClass("active")?g.removeClass("active"):(f!="#hide"&&!h)?g.addClass("active"):false;setTimeout(function(){if($(f).is(":visible")&&f!="#hide"&&!h){g.addClass("active")}else{g.removeClass("active")}$processing=false},660);$(f).slideToggle(600)});if(f=="#search"){$('#sidebar input[name="search"]').focus()}}});$(".navigation > ul.sub > li").on("click",function(){var f=$(this);$(".navigation > ul.sub > li").each(function(){$(this).removeClass("sub_active")});$("#webmin_search_form").find('input[name="search"]').val("");f.addClass("sub_active")});$('aside .navigation a[target="page"], .list-group-item, .menu-link, .panel-body > a.ui_link, button[type="submit"], a.btn.btn-primary[href^="/"], a.ui_link, div.icons-row div a, td[id^="head"] a, tr.tr_tag td.td_tag a, tr.ui_checked_columns td a, tr.ui_grid_row td.ui_grid_cell a').on("click",function(){var i=$(this),g=$.trim($(this).text()).toLowerCase(),h=["/updown/","/webmin/edit_themes.cgi","/usermin/edit_themes.cgi","/webmin/edit_mods.cgi","/usermin/edit_mods.cgi"],f=window.parent.$('iframe[name="page"]').get(0).contentWindow.location.pathname,j=["export","export as csv.","download","upload"];if($.inArray(f,h)===-1&&$.inArray(g,j)===-1){a()}});$("#webmin_search_form").on("submit",function(){a()});$(".opener_trigger").on("click",function(){$this=$(this);if($this.closest("tbody").find(".opener_container").first().find("div").hasClass("opener_hidden")){$this.closest("tbody").find(".opener_container").show();setTimeout(function(){$this.parent("td").find(".opener_trigger img").attr("src","/images/open.gif")},10)}else{$this.closest("tbody").find(".opener_container").hide();setTimeout(function(){$this.parent("td").find(".opener_trigger img").attr("src","/images/closed.gif")},10)}});if($(".opener_shown").length>0){$(".panel-body  .ui_form .table  tbody  tr").removeClass("thead");$(".opener_trigger").parent("td").css("vertical-align","middle").css("height","43px").css("text-align","left")}$("a.opener_trigger").each(function(){$(this).parent("td").css("text-align","left")});$(".navigation_sysinfo_modules_trigger, .navigation_refresh_modules_trigger, .navigation_feedback_trigger").on("click",function(f){f.preventDefault();f.stopPropagation();$('iframe[name="page"]').attr("src",$(this).data("href"));$(".navbar-toggle").trigger("click")});$(".navbar-brand").on("click",function(f){$(".navbar-collapse").removeClass("in")});if(c()){$product_name=window.parent.$("#wrapper").data("product");$("body table").each(function(g,f){var h=$(this);if(!$(f).hasClass("table")&&!$(f).hasClass("header")&&!$(f).hasClass("ui_form_end_buttons")&&!$(f).hasClass("ui_table")){$(f).addClass("table-hardcoded");if($product_name=="usermin"){$(f).addClass("table table-striped table-rounded table-condensed table-subtable")}}})}if(c()){window.parent.$('iframe[name="page"]').on("load",function(){function f(){if(window.parent.$("#sidebar:visible").length==1){if($(window).width()<1200){window.parent.$('iframe[name="page"]').contents().find(".container-fluid").css("margin-left","20px")}else{window.parent.$('iframe[name="page"]').contents().find(".container-fluid").removeAttr("style")}}else{$(".container-fluid").css("margin-left",0)}}$(window).resize(function(i){f()});$("input[type=file]").bootstrapFileInput();$("#tall_0").before("<br>");function h(){$(".opener_container").each(function(i,j){if($(this).find("div").hasClass("opener_hidden")){$(this).hide()}else{$(this).show()}})}h();$current_page=window.parent.$('iframe[name="page"]').get(0).contentWindow.location.pathname.replace(/^\//g,"");$current_page_full=window.parent.$('iframe[name="page"]').get(0).contentWindow.location.pathname;if($("#headln2l a").attr("href")){if($("#headln2l a").attr("href").indexOf(".cgi")>=0){$current_page_webmin=1}else{$current_page_webmin=0}}else{$current_page_webmin=0}$("a").each(function(){if($(this).find("img").length){$(this).css("text-decoration","none")}});($current_page.split("/")[0]=="virtual-server"&&!$current_page_webmin&&window.parent.$("#wrapper").data("virtual-server")!=-1)?$current_page=$current_page.split("/")[0]+"/"+$current_page.split("/")[1]:$current_page=$current_page.split("/")[0]+"/";var g=[];window.parent.$("ul.sub li a").each(function(){if(window.parent.$("#wrapper").data("virtual-server")==-1&&$(this).attr("href").split("/")[0]=="virtual-server"){g.push($(this).attr("href"))}else{g.push($(this).attr("href"))}});if(($current_page&&$current_page!="virtual-server/index.cgi"&&g.indexOf($current_page)>-1)||window.parent.$("#wrapper").data("virtual-server")!=-1&&$current_page=="virtual-server/"){window.parent.$(".navigation > ul.sub > li").removeClass("sub_active");window.parent.$("#sidebar .navigation > ul.sub").hide();window.parent.$("#sidebar .navigation > li").removeClass("active");window.parent.$('a[href="'+$current_page+'"]').parent("li").addClass("sub_active").parent("ul.sub").show().prev("li").addClass("active")}$('.panel-body > form > table > tbody > tr > td:has(input[type="submit"])').parents("table.table-hardcoded > tbody > tr").css("border","none").parents("table").css("margin-top","20px");$('.panel-body > form > table > tbody > tr > td:has(input[type="submit"])').parents("table.table-hardcoded > tbody").css("border","none");$('.ui_grid_table > tbody > tr.ui_grid_row > td:has(button[type="submit"])').parents("table.ui_grid_table").css("border","none");$("form.ui_form > table label.radio, form.ui_form > table label.checkbox").each(function(){var k=$(this),l=k.find("i.fa"),j=k.find("i.fa").text().trim(),i=k.text().trim();if(j.length===0&&i.length===0){l.parent("label").remove()}});$('.ui_form[action^="delete_mons"] tr.ui_checked_columns > td > label > img[src="images/up.gif"], .ui_form[action^="save_mon"] img[src="images/up.gif"], table.ui_buttons_table > tbody > tr.ui_buttons_row > td.ui_buttons_label > img[src="images/up.gif"]').each(function(j,i){var k=$(this);$(i).attr("src","/images/check.png")});$('.ui_form[action^="delete_mons"] tr.ui_checked_columns > td > label > img[src="images/down.gif"], .ui_form[action^="save_mon"] img[src="images/down.gif"], table.ui_buttons_table > tbody > tr.ui_buttons_row > td.ui_buttons_label > img[src="images/down.gif"]').each(function(j,i){var k=$(this);$(i).attr("src","/images/cross.png")});$("img[src^=images]").each(function(j,i){var k=$(this);$(i).attr("src","/"+k.attr("src"))});$('button[type="submit"]').each(function(){if($(this).text()==" Refresh Modules"){}if($(this).text().indexOf("Start at")!=-1||$(this).text()==" Scan for servers"){$(this).addClass("btn-primary")}if($(this).text().indexOf("Stop")!=-1||$(this).text().indexOf("Delete")!=-1){$(this).addClass("btn-danger")}if($(this).text().indexOf("Warning")!=-1){$(this).addClass("btn-warning")}if($(this).text().indexOf("Start")!=-1&&$(this).text().indexOf("Start at")==-1&&$(this).text().indexOf("Start On")==-1&&$(this).text().indexOf("Start Now")==-1){$(this).addClass("btn-success")}});$("textarea").each(function(n,q){var p=$(this),m=["phpini","bind8"],l=["phpini"],j=["bind8"];$("#headln2l a").attr("href")?$page=$("#headln2l a").attr("href").split("/")[1]:$page=null;if(m.indexOf($page)>=0){$(this).data("name","data");if(l.indexOf($page)>=0){$(this).data("mode","text/x-z80")}else{if(j.indexOf($page)>=0){$(this).data("mode","xml")}else{$(this).data("mode","rpm-spec")}}}$current_file=window.parent.$('iframe[name="page"]').get(0).contentWindow.location.pathname.replace(/^\//g,"");if($current_file){$current_file=$current_file.split("/")[1]}var k=["edit_recs.cgi","edit_dirs.cgi"];if(($(this).attr("name")=="data"||$(this).data("name")=="data"||$(this).attr("name")=="directives")&&$("textarea").length===1&&$("textarea").parent("td.td_tag").length===0&&$current_page!="init/"&&k.indexOf($current_file)===-1){$parent_width=p.parent("td").width();var o=CodeMirror.fromTextArea(q,{mode:{name:$(this).data("mode")?$(this).data("mode"):"rpm-spec"},tabMode:"indent",matchBrackets:true,lineNumbers:true,lineWrapping:true,indentUnit:4});$window_height=($(window).outerHeight()-($(window).outerHeight()/2.8));o.setSize($parent_width,$window_height);$(window).resize(function(){$parent_width=p.parent("td").width();$window_height=($(window).outerHeight()-($(window).outerHeight()/2.8));o.setSize($parent_width,$window_height)})}});if($(".ui_table tr td").has(".ui_grid_table.table-hardcoded")&&($current_page=="passwd/"||$current_page=="mailboxes/"||$current_page_full=="/usermin/list_configs.cgi")){$(".ui_table tr td .ui_grid_table.table-hardcoded").parents("table").css("border","1px solid #ddd");$(".ui_table tr td .ui_grid_table.table-hardcoded").addClass("table").parents("tr").css("border","1px solid #ddd")}if($current_page=="cshrc/"){$("textarea").each(function(j,k){$(this).attr("style","height: 20em !important")})}if($current_page=="proc/"||($current_page=="fetchmail/"&&$("link").attr("href")=="/favicon-usermin.ico")){if($current_page=="proc/"){$("a.ui_link + b").addClass("btn btn-success").css("margin-top","4px").css("margin-left","3px");$("b + a.ui_link").addClass("btn btn-success").css("margin-top","4px").css("margin-left","3px");if($('.panel-body > b:first-child:contains("Display")').length>0){$(".panel-body > b:first-child").remove()}if($(".panel-body").find("b:first-child").text()=="PID"){$(".panel-body").find("b:first-child").addClass("btn btn-success").css("margin-top","4px")}}$(".panel-body").contents().filter(function(){return this.nodeType==3}).remove();$(".panel-body > a.ui_link").css("margin-left","3px")}$("td.td_tag").contents().filter(function(){return this.nodeType==3}).next("input").css("margin-left","3px");$(".ui_buttons_hr > td > table.table-hardcoded > tbody > tr > td[nowrap]").each(function(){$(this).parents("table").attr("style","margin-bottom: 15px !important")});$('a[href^="/help.cgi"]').attr("onclick","").unbind("click").addClass("help_popup");$(".help_popup").on("click",function(i){i.preventDefault();i.stopPropagation();$(".popover").popover("destroy");jQuery.ajaxSetup({async:false});var k=$(this),l=$(this).attr("href"),j=$(this).parents("td");j.append('<span class="_tmp_help_content hidden"></span>');j.find("._tmp_help_content").load($(this).attr("href"));$help_title=j.find("._tmp_help_content .ui_subheading").first().text();$help_body=j.find("._tmp_help_content title").remove();$help_body=j.find("._tmp_help_content h3").remove();$help_body=j.find("._tmp_help_content hr").remove();$help_body=j.find("._tmp_help_content a").removeAttr("href").css("text-decoration","none").css("color","#333").css("font-style","italic");$help_body=j.find("._tmp_help_content").html();j.find("._tmp_help_content").remove();$(this).popover({html:true,title:function(){return $help_title},content:function(){return $help_body},container:"body",placement:"right"});$(this).popover("show");$(this).on("hidden.bs.popover",function(){$(this).popover("destroy")});$("body").on("click",function(){$(".popover").popover("destroy")})});$('select.ui_select[name="days"]').each(function(){$(this).parent("td").attr("style","vertical-align: top !important")})})}$("aside").mCustomScrollbar({axis:"y",theme:"minimal"});if(c()&&window.parent.$("body#popup").length){$obj=window.parent.$("body#popup");$obj.css("margin","8px 4px 0 4px ").css("padding","0px 5px 0 5px").css("overflow-x","hidden");$obj.find("table").each(function(){$(this).addClass("table table-striped table-condensed").attr("style","width: 70% !important").attr("style","font-size: 97% !important");$(this).find("td").attr("style","border: 1px solid #ddd !important")});$obj.find("#filter_box input").attr("onkeyup","filter_match(this.value,'tr_tag',true);").focus();$obj.find('input[name="search"]').focus()}else{if($(location).attr("href").indexOf("standard_chooser.cgi")!=-1||$(location).attr("href").indexOf("webmin/third_chooser.cgi")!=-1){$("body").css("padding","10px 5px 0 5px");$("table tr.tr_tag").each(function(){$(this).addClass("row")});window.parent.$("#filter_box input").focus()}else{if($(location).attr("href").indexOf("chooser.cgi")!=-1&&($(location).attr("href").indexOf("user_chooser.cgi")==-1&&$(location).attr("href").indexOf("group_chooser.cgi")==-1)){function d(h,i){var g=document.getElementsByTagName(i)[0];var f=document.createElement("script");f.setAttribute("type","text/javascript");f.setAttribute("src",h);g.appendChild(f)}d("/unauthenticated/js/chooser.min.js","body");$t=top.frames.topframe;$b=top.frames.bottomframe;typeof $t=="undefined"?$t=false:false;typeof $b=="undefined"?$b=false:false;if($t.document.getElementsByTagName("input").length){$t.document.getElementsByTagName("input")[0].setAttribute("onkeyup","filter_match(this.value,'tr_tag',true);")}if($t){setTimeout(function(){$t.document.getElementById("popup").style.padding="10px 5px 0 5px";$t.document.getElementsByTagName("table")[0].style.fontSize="97%";$t.document.getElementsByName("filter")[0].focus()},0)}}else{if($(location).attr("href").indexOf("user_chooser.cgi")!=-1||$(location).attr("href").indexOf("group_chooser.cgi")!=-1){if(location.search.indexOf("?multi=0")==-1){$l=top.frames[0];$rt=top.frames[1];$rb=top.frames[2];setTimeout(function(){if($l){var f=$l.document.getElementById("filter_box");if(f){$l.document.getElementById("popup").style.padding="10px 5px 0 5px";$l.document.getElementsByTagName("table")[0].style.fontSize="97%";$l.document.getElementsByName("filter")[0].focus()}}if($rt){typeof $rt_set=="undefined"?$rt_set=false:false;if($rt.document.getElementById("popup")){$rt.document.getElementById("popup").style.padding="11px 5px 0 5px"}if($rt.document.getElementsByTagName("table")){$rt.document.getElementsByTagName("table")[0].style.fontSize="97%";$rt_set=true}}if($rb){if($rb.document.getElementById("popup")){$rb.document.getElementById("popup").style.padding="11px 5px 0 5px"}}},0)}else{$obj=window.parent.$("body#popup");$obj.find(".mCustomScrollBox").css("padding-bottom","0");$obj.css("margin","8px 4px 0 4px ").css("padding","0px 5px 0 5px").css("overflow-x","hidden").css("padding-bottom","0");$obj.find("table").each(function(){$(this).addClass("table table-striped table-condensed").attr("style","width: 70% !important").attr("style","font-size: 97% !important");$(this).find("td").attr("style","border: 1px solid #ddd !important")});$obj.find("#filter_box input").focus()}}}}}});